<!-- game.html -->
{% extends "base.html" %}

{% block content %}
<main class="row">
  <section class="col-md-8">
    <!-- Game Area -->
    <h2>Your Hand:</h2>
    <p id="playerHand">{{ player_hand | safe }}</p>
    <h2>Dealer's Hand:</h2>
    <p id="dealerHand">{{ dealer_hand | safe }}</p>
    <button onclick="location.href={{ url_for('blackjack.hit') }}" class="btn btn-success">Hit</button>
    <button onclick="location.href={{ url_for('blackjack.stand') }}" class="btn btn-danger">Stand</button>
  </section>
  <section class="col-md-4">
    <!-- Sidebar for Stats and Strategy Guide -->
    <div class="p-3 border bg-light">
      <h3>Game Stats</h3>
      <p>Wins: <span id="wins">0</span></p>
      <p>Losses: <span id="losses">0</span></p>
      <p>Money: <span id="money">$1000</span></p>
      <h3>Strategy Guide</h3>
      <div id="strategyTable"></div>
    </div>
  </section>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
    var csvData = {{ csv_data | tojson }};
    var table = '<table class="table table-bordered">';
    csvData.forEach(function(row) {
        table += '<tr>';
        row.forEach(function(cell) {
            table += '<td>' + cell + '</td>';
        });
        table += '</tr>';
    });
    table += '</table>';
    document.getElementById('strategyTable').innerHTML = table;
});
</script>
{% endblock %}
